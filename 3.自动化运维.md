### shell简介  

- 在linux下，用户通过shell与内核进行交流，并最终实现我们想要使用计算机资源的目的。  
- shell的选择有很多，有/bin/bash,/bin/tcsh,/bin/csh  
- centos默认使用的shell是bash  


### bash功能介绍  

1) 命令历史  

	- 用户注销时，他所使用的命令都记录在.bash_history隐藏文件中  
	- 通过history命令可以查看历史命令，命令总量由/etc/profile中的HISTSZIE变量决定  
	- 可以通过!string来调用过去使用过的命令，如!vim 来调用最后一次使用过的以vim开头的命令, !123 可以调用命令历史的第123条命令  
	- 可以使用Ctrl+r打开搜索功能，输入关键字即可搜索相关命令，按回车执行搜索命令的执行，按esc退出搜索  
	
2) 命令别名，在centos中，可以直接使用ll命令来查看文件详细信息，但是系统中是没有ll命令的，这是因为centos系统默认把ls -l命令设置了一个别名，即ll，这样可以大大提高工作效率  

	- alias \#查看系统当前的所有别名 
	- alias h5='head -5' \#定义新的别名 
	- unalias h5 \#取消别名定义  

3) 管道与重定向  

- 标准输入的文件描述符为0  
- 标准输出的文件描述符为1  
- 错误输出的文件描述符为2  
- linux系统中使用重定向符（< > << >> |）重新定义输出与输入  

	1) 管道使得我们可以将多条命令连接在一起使用，将一个命令的标准输出重定向到下一条命令，并作为该条命令的标准输入，例如：`ifconfig eth0 | grep inet addr`这条命令可以过滤不需要的信息，直接显示ip地址的行  
	2) 举几个例子说明重定向符号的使用  
		
		- `echo "pass"|passwd --stdin tom` \#修改tom的密码为pass  
		- `ls -l abc install.log > all 2>&1` \#标准输出与错误输出均追加至all  
		- `ls -l abc install.log &> all` \#标准输出与错误输出均导入all  

4) 快捷键  

- C + a: 光标移动至行首  
- C + e: 光标移动至行尾  
- C + f: 光标右移一个字符  
- C + b: 光标左移一个字符  
- C + l: 清屏  
- C + u: 删除光标至行首的字符  
- C + k: 删除光标至行尾的字符  
- C + c: 终止进程  
- C + z: 挂起进程，jobs命令可以查看挂起的进程  
- C + w: 删除光标前一个单词，以空格为分隔符  
- alt + d: 删除光标后的一个单词  
- Tab: 自动补齐  

### Bash使用技巧  

1) 重定向技巧  

- /dev/null 是一个特殊设备，写入的东西都会永远消失，对于大量无意义的信息，可以通过重定向到/dev/null中  
	- `echo 'pass'|passwd --stdin root > /dev/null` \# 这条命令将正确的信息重定向到了/dev/null中

2) 命令序列使用技巧  

- [;]可以把多个命令组合，但这些命令之间没有逻辑关系，只是按顺序执行，如`ifconfig eth0 down;ifconfig eth0 up`  
- [&&]把多个命令组合，当前一个命令执行成功后才会执行后面的命令  
- [||]与&&正好相反，当一个命令执行失败才会执行后面的语句  

3) 作业控制技巧  

> 在bash环境中，可以使用&符号使得该进程进入后台执行，或者一个命令执行后使用c+z将进程放入后台并暂停执行，以后可以用jobs命令查看这些后台进程，并且会为每个进程分配一个编号，通过jobs 加编号的形式将这些后台程序再次放到前台执行  

4) 花括号的使用技巧  
- 例子  
	- `echo {a,b,c}` \# 显示a b c  
	- `echo user{1,5,8}` \# 显示user1 user5 user8  
	- `echo {0..10}` \# 显示0-10的数字  
	- `echo {0..10..2}` \# 显示0-10之间的偶数，以2为步进  
	- `echo a{2..-1}` \# 显示a2 a1 a0 a-1  
	- `mkdir -p /tmp/{dir1,dir2,dir3}` \# 在tmp下创建dir1 dir2 dir3这三个目录  


### 变量  

1) 自定义变量  

- 定义方法：Name=value  
	- 变量名称为字母、数字以及下划线的组合，变量名称首字母不能是数字，没有要求大小写，在此统一使用大写或者首字母大写  
	- 使用$Name的方式去调用变量的值  
	- 自定义变量只在当前shell下生效，要让它在全局生效，方法：`export Name=value`  

2) 环境变量  

- Bash中预设了很多环境变量，供我们直接调用，常用的有  

	|  变量名称  |  含义  |  变量名称  | 含义  |  
	|:--------:| :-------:|:--------:|:-----:|  
	| BASHPID    | 当前bash进程编号 |  UID  | 当前用户的ID号 |  
	| GROUPS     | 当前用户所属组的组ID  |  HISTSIZE  | 命令历史的记录条数  |  
	| HOSTNAME   | 当前主机的主机名称  |  HOME  | 当前用户的家目录  |  
	|  PWD       | 当前工作目录    |  PATH  |  命令搜索路径  |   
	|  OLDPWD    |  前一个工作目录  | PS1  | 主命令提示符  |  
	|  RANDOM  |  0～32767之间的随机数  | PS2 | 次命令提示符  |  

































